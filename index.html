<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>Coupang Product Search</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f5f6f7;
}

.container {
    max-width: 800px;
    margin: 60px auto;
    padding: 20px;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
}

.search-box {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

.search-box input {
    flex: 1;
    padding: 12px;
    font-size: 16px;
}

.search-box button {
    padding: 12px 20px;
    font-size: 16px;
    cursor: pointer;
}

.product {
    background: #fff;
    padding: 15px;
    margin-bottom: 12px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.product-name {
    max-width: 70%;
}

.product-price {
    font-weight: bold;
}
</style>
</head>

<body>
<div class="container">
    <h1>쿠팡 상품 검색</h1>

    <div class="search-box">
        <input id="keyword" placeholder="검색어 입력" />
        <button onclick="search()">검색</button>
    </div>

    <div id="results"></div>
</div>

<script>
async function search() {
    const keyword = document.getElementById("keyword").value.trim();
    if (!keyword) return;

    const res = await fetch(
        `http://localhost:5000/search?keyword=${encodeURIComponent(keyword)}`
    );
    const data = await res.json();

    const results = document.getElementById("results");
    results.innerHTML = "";

    data.forEach(p => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
            <div class="product-name">${p.name}</div>
            <div class="product-price">${p.price.toLocaleString()}원</div>
        `;
        results.appendChild(div);
    });
}
</script>
</body>
</html>
